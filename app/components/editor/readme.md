
## Vividly APIs

**API Base URL:** `https://apidev.gimmefy.ai/v2`

Refer `api.http` file for all the apis. You can use this file to test the apis by using vscode extension `REST Client`.

**NOTE:** We have to pass these values in headers in all the below apis

```json
content-type: application/json
Authorization: Bearer {bearer_token}
```

also, we will pass these params while loading the sdk. we may use these params to fetch the data from the server.
- `token` - string
- `user_uid` - string
- `brand_kit_uid` - string
- `initial_size` - string
- `project_uid` - string

---

### - List the templates (type: main-template / text-template)

```json
GET /templates

{
    "success": true,
    "message": "",
    "payload": [
        {
            "uid": "template-123",
            "name": "Template 1",
            "description": "This is a template",
            "thumbnail_url": "https://example.com/thumbnail.jpg",
            "category": "personal-templates",
            "type": "main-template",
            "is_bookmarked": 1
        },
        {
            "uid": "template-124",
            "name": "Template 2",
            "description": "This is a template",
            "thumbnail_url": "https://example.com/thumbnail.jpg",
            "category": "gimmefy-templates"
            "type": "main-template",
            "is_bookmarked": 0
        }
    ],
    "meta": {
        "totalRecords": 1
    }
}
```

---

### - Create a new template (We are assuming that the thumbnail will be generated by the server)

```json
POST /templates

{
    "name": "Template 1",
    "description": "This is a template",
    "content": "json string here",
    "type": "main-template"
}
```

---

### - Update template (you may send fields partially (except is_bookmarked))

```json
PATCH /templates/template-123

{
    "name": "Template 1",
    "description": "This is a template",
    "content": "json string here",
    "type": "main-template"
}
```

---

### - Add/Remove a template to/from bookmarks (action: add / remove)

```json
POST bookmarks/add-remove

{
    "source_uid": "template-123",
    "source_type": "VIVIDLY_TEMPLATE",
    "action": "add"
}
```

---

### - Get the template details (including data)

```json
GET /templates/template-123

## Response
{
    "success": true,
    "message": "",
    "payload": {
        "uid": "template-123",
        "name": "Template 1",
        "description": "This is a template",
        "thumbnail_url": "https://s3.com/thumbnail.jpg?key=gdgdfg",
        "category": "personal-templates",
        "type": "main-template",
        "content": "json string here",
        "is_bookmarked": 1
    },
    "meta": {}
}
```

---

### - Upload a template (psd, ai, etc)

```json
POST /templates

{
    "name": "Template 1",
    "description": "This is a template",
    "file_name": "my-design1.psd",
    "type": "main-template"
}
```
---

### - Getting signed url to upload a template file on s3 server (file_name => {uuid}.png)

```json
GET /signed-url?action=WRITE&asset_type=BRAND_KIT_TEMPLATE_FILE&file_name=my-design1.psd&source=BRAND_KIT&source_id=xyz123
```

---

### - Getting signed url to read (download) the template file from s3 server (file_name => {uuid}.png)

```json
GET /signed-url?action=READ&asset_type=BRAND_KIT_TEMPLATE_FILE&file_name=my-design1.psd
```

---

### - Delete a template

```json
DELETE /templates/template-124
```

---

### - List Palettes

```json
GET /palettes?brand_kit_uid=xyz123

{
    "success": true,
    "message": "",
    "payload": [
        {
            "colors": "#CCC0,#DDD0,#EEE0",
            "category": "brand-palettes"
        },
        {
            "colors": "#CCC2,#DDD2,#EEE2",
            "category": "brand-palettes"
        },
        {
            "colors": "#CCC8,#DDD8,#EEE8",
            "category": "gimmefy-palettes"
        },
        {
            "colors": "#CCC81,#DDD81,#EEE81",
            "category": "gimmefy-palettes"
        },

    ],
    "meta": {}
}
```

---

### - List fonts

```json
GET /fonts?brand_kit_uid=xyz123

{
    "success": true,
    "message": "",
    "payload": [
        {
            "uid": "font1",
            "display_name": "Font 1",
            "font_url": "https://s3.com/font1.ttf",
            "category": "selected-fonts"
        },
        {
            "uid": "font2",
            "display_name": "Font 2",
            "font_url": "https://s3.com/font2.ttf",
            "category": "brand-fonts"
        },
        {
            "uid": "font2",
            "display_name": "Font 2",
            "font_url": "https://s3.com/font2.ttf",
            "category": "gimmefy-fonts"
        },
    ],
    "meta": {}
}
```

---

### - List Logos

```json
GET /logos?brand_kit_uid=xyz123

{
    "success": true,
    "message": "",
    "payload": [
         {
            "uid": "logo1",
            "display_name": "Logo 1",
            "logo_url": "https://s3.com/logo1.ttf"
        }
    ],
    "meta": {}
}
```

----

### - Getting signed url to upload a logo on s3 server (file_name => {uuid}.png)

```json
GET /signed-url?action=WRITE&asset_type=BRAND_KIT_LOGO&file_name=my-logo1.png&source=BRAND_KIT&source_id=xyz123
```

---

### - Listing AI images

```json
GET /ai-images

{
    "success": true,
    "message": "",
    "payload": [
        {
            "uid": "ai-image1",
            "image_url": "https://s3.com/image1.png",
            "category": "user-images"
        },
        {
            "uid": "ai-image1",
            "image_url": "https://s3.com/image1.png",
            "category": "brand-images"
        }
    ],
    "meta": {}
}
```

---

### - Save AI image

```json
POST /ai-images

{
    "response_uid": "result1"
}
```

---

### - Delete AI image

```json
DELETE /ai-images/ai-image1
```

---

### - List Images - Image bank (type => Pexels, ShutterStock, Unsplash, etc)

```json
GET /image-bank?type=ShutterStock&q=car

{
    "success": true,
    "message": "",
    "payload": [
        {
            "uid": "image1",
            "image_url": "https://shutterstock.com/image1.png",
            "type": "ShutterStock"
        },
        {
            "uid": "image2",
            "image_url": "https://shutterstock.com/image2.png",
            "type": "ShutterStock"
        }
    ],
    "meta": {}
}
```

---

### - List Illustrations (type => FreePik, unDraw, StorySet, etc)

```json
GET /illustrations?type=FreePik&q=car

{
    "success": true,
    "message": "",
    "payload": [
        {
            "uid": "image1",
            "image_url": "https://freepik.com/image1.png",
            "type": "FreePik"
        },
        {
            "uid": "image2",
            "image_url": "https://freepik.com/image2.png",
            "type": "FreePik"
        }
    ],
    "meta": {}
}
```

---

### - List User Images - User uploaded images

```json
GET /user-images

{
    "success": true,
    "message": "",
    "payload": [
         {
            "uid": "image1",
            "display_name": "Image 1",
            "image_url": "https://s3.com/image.png"
        }
    ],
    "meta": {}
}
```

---

### - Getting signed url to upload an image on s3 server (file_name => {uuid}.png)

```json
GET /signed-url?action=WRITE&asset_type=BRAND_KIT_IMAGE&file_name=my-image1.png&source=BRAND_KIT&source_id=xyz123
```

---

### - Inpaint API

```json
POST /inpaint
content-type: application/json
Authorization: Bearer {{login.response.body.payload.accessToken}}

{
  "image": "base64 data of original image",
  "mask": "base64 data of mask image",
  "prompt": "Remove blueberries"
}

### Response
{
    "success": true,
    "message": "",
    "payload": {
        "imageBase64": "base64 data of inpainted image"
    },
    "meta": {}
}

```

---

### - Outpaint API

```json
POST /outpaint
content-type: application/json
Authorization: Bearer {{login.response.body.payload.accessToken}}

{
  "image": "base64 data of original image",
  "width": 1080,
  "height": 1080,
  "left": 200,
  "right": 200,
  "up": 200,
  "down": 200,
  "prompt": "Add more sky"
}

### Response
{
    "success": true,
    "message": "",
    "payload": {
        "imageBase64": "base64 data of outpainted image"
    },
    "meta": {}
}
```

---

### - List Image Filters

```json
GET /image-filters

{
    "success": true,
    "message": "",
    "payload": [
         {
            "uid": "image-filter1",
            "thumbnail_url": "https://s3.com/filter1.png",
            "display_name": "Warm",
            "value": "warm"
        }
    ],
    "meta": {}
}
```

---

### - List Image Sizes

```json
GET /image-sizes

{
    "success": true,
    "message": "",
    "payload": [
         {
            "uid": "image-size1",
            "icon_url": "https://s3.com/size-icon1.png",
            "display_name": "Instagram Post",
            "width": 1080,
            "height": 1080
        },
        {
            "uid": "image-size2",
            "icon_url": "https://s3.com/size-icon2.png",
            "display_name": "Facebook Post",
            "width": 940,
            "height": 788
        },
    ],
    "meta": {}
}
```

---

### - List AI Commands

```json
GET /ai-commands

{
    "success": true,
    "message": "",
    "payload": [
         {
            "uid": "ai-command1",
            "name": "Rewrite text",
            "category": "general"
        },
        {
            "uid": "ai-command2",
            "name": "Shorten",
            "category": "general"
        },
        {
            "uid": "ai-command3",
            "name": "Friendly",
            "category": "tones"
        },
    ],
    "meta": {}
}

```

---

### - Running AI Commands (we may get multiple results but for now, you just need to take the first result) - prompt will be blank for now.

```json
POST /ai-commands

{
    "command_uid": "ai-command1",
    "selected_text": "Lorem tempor ipsum qui, Culpa aliquip laborum exercitation laborisa.",
    "prompt": ""
}

### Response
{
    "success": true,
    "message": "",
    "payload": {
        "request_uid": "ai-result1",
        "command_uid": "ai-command1",
        "responses": [
            {
                "response_uid": "result1",
                "result": "New Lorem tempor ipsum qui"
            }
        ]
    },
    "meta": {}
}
```